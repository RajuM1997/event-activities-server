model Event {
    id              String        @id() @default(ulid())
    eventName       String
    date            DateTime?
    category        EventCategory
    location        String
    description     String
    image           String
    minParticipants Int
    maxParticipants Int
    joiningFee      Int
    joinCount       Int           @default(0)
    isDeleted       Boolean       @default(false)
    status          EventStatus
    hostId          String        @unique
    host            Host          @relation(fields: [hostId], references: [id])
    review          Review[]
    createdAt       DateTime      @default(now())
    updatedAt       DateTime      @updatedAt
    booking         Booking[]

    @@map("events")
}

model Booking {
    id                 String        @id @default(uuid())
    userId             String        @unique
    eventId            String
    user               UserProfile   @relation(fields: [userId], references: [id])
    event              Event         @relation(fields: [eventId], references: [id])
    amount             Float
    transactionId      String        @unique
    status             PaymentStatus @default(UNPAID)
    bookingStatus      BookingStatus @default(BOOKED)
    paymentGatewayData Json?
    createdAt          DateTime      @default(now())
    updatedAt          DateTime      @updatedAt

    @@map("bookings")
}

model Review {
    id     String      @id @default(uuid())
    userId String
    user   UserProfile @relation(fields: [userId], references: [id])

    hostId String
    host   Host   @relation(fields: [hostId], references: [id])

    eventId String @unique
    event   Event  @relation(fields: [eventId], references: [id])

    rating    Float
    comment   String
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@map("reviews")
}
